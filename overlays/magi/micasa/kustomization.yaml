apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: micasa
resources:
  - namespace.yaml
  
  - ../../../apps/homeassistant

  - ../../../apps/zigbee2mqtt

  - ../../../apps/mosquitto

  - immich-postgres-config.yaml
  - immich-redis-config.yaml
  - ../../../apps/immich
  - ../../../apps/immichFrame

  - ../../../apps/esphome

  - vaultwarden-postgres-config.yaml
  - ../../../apps/vaultwarden

  - ../../../apps/frigate

  - ../../../apps/technitium

patchesStrategicMerge:
  - patches/homeassistant-service.yaml
  - patches/homeassistant.yaml

  - patches/zigbee2mqtt-storage.yaml
  - patches/zigbee2mqtt-service.yaml

  - patches/mosquitto-storage.yaml
  - patches/mosquitto-service.yaml

  - patches/immich.yaml
  - patches/immich-service.yaml
  - patches/immich-ml.yaml
  - patches/immich-ml-service.yaml

  - patches/esphome-service.yaml
  - patches/esphome-server.yaml

  - patches/vaultwarden-service.yaml
  - patches/vaultwarden-storage.yaml

  - patches/immichFrame-service.yaml
  - patches/immichFrame-storage.yaml

  - patches/frigate.yaml
  - patches/frigate-service.yaml
  
  - patches/technitium.yaml
  - patches/technitium-service.yaml